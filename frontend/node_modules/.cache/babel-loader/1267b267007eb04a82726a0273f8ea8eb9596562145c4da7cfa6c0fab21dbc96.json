{"ast":null,"code":"var _s = $RefreshSig$();\nimport Cookies from \"js-cookie\";\nimport { useToast } from '@chakra-ui/react';\nconst useRecurringSchedule = () => {\n  _s();\n  const toast = useToast();\n  const authToken = Cookies.get('authToken');\n  const createRecurringSchedule = async (weeks, date) => {\n    try {\n      const response = await fetch('create_recurring_schedule/', {\n        method: 'POST',\n        headers: {\n          'Content-type': 'application/json',\n          'Authorization': `Token ${authToken}`\n        },\n        body: JSON.stringify({\n          weeks: weeks,\n          date: date\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP Error! status: ${response.status}`);\n      }\n      const json = await response.json();\n      toast({\n        title: 'Delete succesful',\n        description: `All shifts including and after ${deleteDate} have been deleted`,\n        status: 'success',\n        duration: 9000,\n        isClosable: true\n      });\n      console.log(json, 'Created recurring shifts');\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  return {\n    createRecurringSchedule\n  };\n};\n_s(useRecurringSchedule, \"WUU7e0p6AiTpvVrXhi50JBdcu+0=\", false, function () {\n  return [useToast];\n});\nexport default useRecurringSchedule;","map":{"version":3,"names":["Cookies","useToast","useRecurringSchedule","_s","toast","authToken","get","createRecurringSchedule","weeks","date","response","fetch","method","headers","body","JSON","stringify","ok","Error","status","json","title","description","deleteDate","duration","isClosable","console","log","error"],"sources":["/Users/cuevs/Projects/employee_schedule/frontend/src/Hooks/useRecurringSchedule.js"],"sourcesContent":["\nimport Cookies from \"js-cookie\";\nimport { useToast } from '@chakra-ui/react';\n\nconst useRecurringSchedule = () => {\n\n    const toast = useToast()\n    const authToken = Cookies.get('authToken')\n\n    const createRecurringSchedule = async (weeks, date) => {\n        try {\n            const response = await fetch('create_recurring_schedule/', {\n                method: 'POST',\n                headers: {\n                    'Content-type': 'application/json',\n                    'Authorization': `Token ${authToken}`,\n                },\n                body : JSON.stringify({\n                    weeks : weeks,\n                    date : date\n                })\n            });\n\n            if(!response.ok){\n                throw new Error(`HTTP Error! status: ${response.status}`)    \n            }\n\n            const json = await response.json();\n            toast({\n                title: 'Delete succesful',\n                description: `All shifts including and after ${deleteDate} have been deleted`,\n                status: 'success',\n                duration: 9000,\n                isClosable: true,\n              })\n            console.log(json, 'Created recurring shifts');\n            \n        } catch (error) {\n            console.error(error);\n        }\n    }\n\n    return { createRecurringSchedule }\n\n}\n\nexport default useRecurringSchedule;"],"mappings":";AACA,OAAOA,OAAO,MAAM,WAAW;AAC/B,SAASC,QAAQ,QAAQ,kBAAkB;AAE3C,MAAMC,oBAAoB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAE/B,MAAMC,KAAK,GAAGH,QAAQ,CAAC,CAAC;EACxB,MAAMI,SAAS,GAAGL,OAAO,CAACM,GAAG,CAAC,WAAW,CAAC;EAE1C,MAAMC,uBAAuB,GAAG,MAAAA,CAAOC,KAAK,EAAEC,IAAI,KAAK;IACnD,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,4BAA4B,EAAE;QACvDC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE,kBAAkB;UAClC,eAAe,EAAG,SAAQR,SAAU;QACxC,CAAC;QACDS,IAAI,EAAGC,IAAI,CAACC,SAAS,CAAC;UAClBR,KAAK,EAAGA,KAAK;UACbC,IAAI,EAAGA;QACX,CAAC;MACL,CAAC,CAAC;MAEF,IAAG,CAACC,QAAQ,CAACO,EAAE,EAAC;QACZ,MAAM,IAAIC,KAAK,CAAE,uBAAsBR,QAAQ,CAACS,MAAO,EAAC,CAAC;MAC7D;MAEA,MAAMC,IAAI,GAAG,MAAMV,QAAQ,CAACU,IAAI,CAAC,CAAC;MAClChB,KAAK,CAAC;QACFiB,KAAK,EAAE,kBAAkB;QACzBC,WAAW,EAAG,kCAAiCC,UAAW,oBAAmB;QAC7EJ,MAAM,EAAE,SAAS;QACjBK,QAAQ,EAAE,IAAI;QACdC,UAAU,EAAE;MACd,CAAC,CAAC;MACJC,OAAO,CAACC,GAAG,CAACP,IAAI,EAAE,0BAA0B,CAAC;IAEjD,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACZF,OAAO,CAACE,KAAK,CAACA,KAAK,CAAC;IACxB;EACJ,CAAC;EAED,OAAO;IAAErB;EAAwB,CAAC;AAEtC,CAAC;AAAAJ,EAAA,CAxCKD,oBAAoB;EAAA,QAERD,QAAQ;AAAA;AAwC1B,eAAeC,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}