{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport Cookies from \"js-cookie\";\nconst useRole = () => {\n  _s();\n  const authToken = Cookies.get('authToken');\n  const [manager, setManager] = useState(false);\n  useEffect(() => {\n    fetch('/check_manager/', {\n      method: 'GET',\n      headers: {\n        'Authorization': `Token ${authToken}`\n      }\n    }).then(response => {\n      if (!response.ok) {\n        setManager(false);\n        throw new Error(\"Access forbidden\");\n      } else {\n        console.log(\"User is a manager\");\n        return response.json();\n      }\n    }).then(json => {\n      if (json.message === 'true') {\n        setManager(true);\n      }\n      console.log(json);\n    }).catch(error => console.error(error));\n  }, []);\n  return manager;\n};\n_s(useRole, \"8IeLC9Hh96I/VRue1e8Iw1BTxeI=\");\nexport default useRole;","map":{"version":3,"names":["useEffect","useState","Cookies","useRole","_s","authToken","get","manager","setManager","fetch","method","headers","then","response","ok","Error","console","log","json","message","catch","error"],"sources":["/Users/cuevs/Projects/employee_schedule/frontend/src/useRole.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport Cookies from \"js-cookie\"\n\nconst useRole = () => {\n\n    const authToken = Cookies.get('authToken')\n\n    const [ manager, setManager] = useState(false)\n\n    useEffect(() => {\n        fetch('/check_manager/',{\n            method: 'GET',\n            headers: {\n                'Authorization': `Token ${authToken}`,\n            },\n        })\n            .then((response) => {\n                if(!response.ok){\n\n                    setManager(false)\n                    throw new Error(\"Access forbidden\")\n                }\n\n                else {\n                    console.log(\"User is a manager\")\n                    return response.json()\n                }\n            })\n            .then(json => {\n                if(json.message === 'true'){\n                    setManager(true)\n                }\n                console.log(json)\n            }).catch(error => console.error(error))\n\n    }, [])\n\n    return manager\n\n}\n\nexport default useRole"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,OAAO,MAAM,WAAW;AAE/B,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAElB,MAAMC,SAAS,GAAGH,OAAO,CAACI,GAAG,CAAC,WAAW,CAAC;EAE1C,MAAM,CAAEC,OAAO,EAAEC,UAAU,CAAC,GAAGP,QAAQ,CAAC,KAAK,CAAC;EAE9CD,SAAS,CAAC,MAAM;IACZS,KAAK,CAAC,iBAAiB,EAAC;MACpBC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACL,eAAe,EAAG,SAAQN,SAAU;MACxC;IACJ,CAAC,CAAC,CACGO,IAAI,CAAEC,QAAQ,IAAK;MAChB,IAAG,CAACA,QAAQ,CAACC,EAAE,EAAC;QAEZN,UAAU,CAAC,KAAK,CAAC;QACjB,MAAM,IAAIO,KAAK,CAAC,kBAAkB,CAAC;MACvC,CAAC,MAEI;QACDC,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;QAChC,OAAOJ,QAAQ,CAACK,IAAI,CAAC,CAAC;MAC1B;IACJ,CAAC,CAAC,CACDN,IAAI,CAACM,IAAI,IAAI;MACV,IAAGA,IAAI,CAACC,OAAO,KAAK,MAAM,EAAC;QACvBX,UAAU,CAAC,IAAI,CAAC;MACpB;MACAQ,OAAO,CAACC,GAAG,CAACC,IAAI,CAAC;IACrB,CAAC,CAAC,CAACE,KAAK,CAACC,KAAK,IAAIL,OAAO,CAACK,KAAK,CAACA,KAAK,CAAC,CAAC;EAE/C,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOd,OAAO;AAElB,CAAC;AAAAH,EAAA,CApCKD,OAAO;AAsCb,eAAeA,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}